<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Simple async sync example (fixed)</title>
  </head>
  <body>
    <script>
      console.log('Starting');
      let image;

      fetch('coffee.jpg')
        .then(response => {
          console.log('It worked :)');
          return response.blob();
        })
        .then(myBlob => {
          const objectURL = URL.createObjectURL(myBlob);
          image = document.createElement('img');
          image.src = objectURL;
          document.body.appendChild(image);
          console.log('All done!');
        })
        .catch(error => {
          console.log('There has been a problem with your fetch operation: ' + error.message);
        });
    </script>
  </body>
</html>